{% extends "web/base.html" %}
{% load static %}

{% block title %}Recursos per a Cooperatives - Civada{% endblock %}

{% block content %}
<div class="container my-5">
    <!-- Hero Section -->
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h1 class="display-4 mb-4">ü§ù Recursos per a Cooperatives</h1>
            <p class="lead">Compartim coneixement i recursos per enfortir el moviment cooperatiu</p>
        </div>
    </div>

    <!-- Resumen de opciones -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="alert alert-info text-center">
                <h4 class="mb-3">Trieu la millor opci√≥ per a vosaltres:</h4>
                <div class="row">
                    <div class="col-md-4">
                        <i class="fab fa-github fa-2x text-primary mb-2"></i>
                        <h6><strong>1. GitHub</strong></h6>
                        <small>Per a desenvolupadors i experts t√®cnics</small>
                    </div>
                    <div class="col-md-4">
                        <i class="fab fa-docker fa-2x text-info mb-2"></i>
                        <h6><strong>2. Docker</strong></h6>
                        <small>Instal¬∑laci√≥ f√†cil per a principiants</small>
                    </div>
                    <div class="col-md-4">
                        <i class="fas fa-exchange-alt fa-2x text-success mb-2"></i>
                        <h6><strong>3. API</strong></h6>
                        <small>Compartir dades entre cooperatives</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tres secciones principales -->
    <div class="row">
        <!-- Secci√≥n 1: C√≥digo Abierto -->
        <div class="col-lg-4 mb-5">
            <div class="card h-100 shadow-sm border-0">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <i class="fab fa-github fa-4x text-primary mb-3"></i>
                        <h2 class="h3">üöÄ Crea la teva Cooperativa</h2>
                        <p class="text-muted">Codi obert per a noves cooperatives</p>
                    </div>
                    
                    <div class="mb-4">
                        <h4>üí° Per a qui √©s?</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i> <strong>Cooperatives de consum</strong> que fan comandes col¬∑lectives setmanals/quinzenals</li>
                            <li><i class="fas fa-check text-success me-2"></i> <strong>Grups de consum</strong> que volen digitalitzar-se i automatitzar processos</li>
                            <li><i class="fas fa-check text-success me-2"></i> <strong>Cooperatives de 20-200 socis</strong> que gestionen m√∫ltiples proveedors</li>
                            <li><i class="fas fa-check text-success me-2"></i> <strong>Desenvolupadors</strong> que volen contribuir al moviment cooperatiu</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <i class="fas fa-lightbulb me-2"></i>
                            <strong>Cas d'√∫s t√≠pic:</strong> Una cooperativa fa comandes cada dimarts a diversos proveedors (pa, verdures, l√†ctis). Els socis entren a la plataforma durant la setmana, fan les seves comandes, i el dimarts es tanquen autom√†ticament. Els gestors reben un resum i despr√©s cobren autom√†ticament als socis.
                        </div>
                    </div>

                    <div class="mb-4">
                        <h4>üõ†Ô∏è Qu√® √©s exactament?</h4>
                        <div class="alert alert-light mb-3">
                            <strong>üêç Aplicaci√≥ web Django (Python)</strong> especialment dissenyada per cooperatives de consum amb <strong>comandas col¬∑lectives</strong> (comandes setmanals/quinzenals dels mateixos productes).
                        </div>
                        
                        <h5>üì± Tres interf√≠cies en una:</h5>
                        <div class="row">
                            <div class="col-12">
                                <div class="border-start border-3 border-info ps-3 mb-3">
                                    <h6><i class="fas fa-globe text-info me-2"></i> <strong>Web P√∫blica</strong></h6>
                                    <small>Galeria de fotos, cat√†leg de productes, informaci√≥ de la cooperativa. Escaparate per mostrar-vos al m√≥n.</small>
                                </div>
                                <div class="border-start border-3 border-success ps-3 mb-3">
                                    <h6><i class="fas fa-users text-success me-2"></i> <strong>Intranet de Socis</strong></h6>
                                    <small>√Ärea privada per fer comandes, consultar el compte personal, veure historial de compres.</small>
                                </div>
                                <div class="border-start border-3 border-warning ps-3 mb-3">
                                    <h6><i class="fas fa-cog text-warning me-2"></i> <strong>Administraci√≥</strong></h6>
                                    <small>Panell per gestors: configurar socis, proveedors, productes, comandes autom√†tiques, personalitzar la web.</small>
                                </div>
                            </div>
                        </div>
                        
                        <h5>‚ö° Automatitzaci√≥ de comandas col¬∑lectives:</h5>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-calendar text-primary me-2"></i> Comandes setmanals/quinzenals autom√†tiques</li>
                            <li><i class="fas fa-clock text-primary me-2"></i> Tancament autom√†tic i notificacions</li>
                            <li><i class="fas fa-euro-sign text-primary me-2"></i> Gesti√≥ de comptes i cobraments de socis</li>
                            <li><i class="fas fa-chart-line text-primary me-2"></i> Historial complet de moviments</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h4>üìã Com comen√ßar?</h4>
                        <ol class="ps-3">
                            <li>Descarrega el codi des de GitHub</li>
                            <li>Segueix la guia d'instal¬∑laci√≥</li>
                            <li>Personalitza per a la teva cooperativa</li>
                            <li>Desplega en el teu servidor</li>
                        </ol>
                    </div>

                    <div class="text-center">
                        <a href="https://github.com/fosc19/coopconsum" class="btn btn-primary btn-lg mb-3" target="_blank">
                            <i class="fab fa-github me-2"></i>Veure a GitHub
                        </a>
                        <br>
                        <small class="text-muted">
                            <i class="fas fa-code me-1"></i>Llic√®ncia: MIT (Codi lliure)
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n 2: Docker -->
        <div class="col-lg-4 mb-5">
            <div class="card shadow-sm border-0">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <i class="fab fa-docker fa-4x text-info mb-3"></i>
                        <h2 class="h3">üê≥ Instal¬∑laci√≥ F√†cil amb Docker</h2>
                        <p class="text-muted">Per a cooperatives sense coneixements t√®cnics - Guia pas a pas</p>
                    </div>
                    
                    <div class="row">
                        <div class="col-lg-8 mx-auto">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i>
                                <strong>Qu√® √©s Docker?</strong> √âs com una "caixa m√†gica" que cont√© tot el necessari per fer funcionar la plataforma. No necessites saber programar!
                            </div>

                            <h4>üìã Qu√® necessites?</h4>
                            <ul class="mb-4">
                                <li><strong>Un VPS:</strong> Pots llogar-ne un per 5-10‚Ç¨/mes</li>
                                <li><strong>15 minuts de temps</strong></li>
                                <li><strong>Seguir aquesta guia s√∫per senzilla</strong></li>
                            </ul>

                            <div class="accordion" id="dockerGuide">
                                <!-- Paso 1: Comprar servidor -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#step1">
                                            <strong>Pas 1: Comprar un servidor (5 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step1" class="accordion-collapse collapse show" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <h5>üõí On comprar?</h5>
                                            <p><strong>Recomanaci√≥ principal (m√©s detallada):</strong></p>
                                            <div class="border border-primary rounded p-3 mb-3">
                                                <h6><strong>ü•á OVH VPS (Recomanat)</strong></h6>
                                                <ul>
                                                    <li><strong>Preu:</strong> 3-5‚Ç¨/mes + 3,30‚Ç¨/mes backup</li>
                                                    <li><strong>Avantatges:</strong> Europeu, GDPR</li>
                                                    <li><strong>Motiu:</strong> √âs el que nosaltres utilitzem i el manual m√©s detallat est√† en aquest format</li>
                                                    <li><strong>Web:</strong> <a href="https://www.ovh.com/es/vps/" target="_blank">ovh.com/es/vps/</a></li>
                                                </ul>
                                            </div>
                                            
                                            <p><strong>Alternatives:</strong></p>
                                            <ul>
                                                <li><strong>Hetzner:</strong> 4‚Ç¨/mes + 1‚Ç¨/mes backup</li>
                                                <li><strong>DigitalOcean:</strong> 6‚Ç¨/mes + 1,20‚Ç¨/mes backup</li>
                                                <li><strong>Vultr:</strong> 5‚Ç¨/mes + 1‚Ç¨/mes backup</li>
                                            </ul>
                                            
                                            <h5>‚öôÔ∏è Configuraci√≥ del Servidor</h5>
                                            <div class="bg-light p-3 rounded mb-3">
                                                <ul class="mb-0">
                                                    <li><strong>Sistema operatiu:</strong> Ubuntu 22.04 LTS</li>
                                                    <li><strong>RAM:</strong> M√≠nim 2GB</li>
                                                    <li><strong>Disc:</strong> M√≠nim 20GB</li>
                                                    <li><strong>CPU:</strong> 1 core √©s suficient</li>
                                                </ul>
                                            </div>
                                            
                                            <div class="alert alert-danger">
                                                <h6><i class="fas fa-shield-alt me-2"></i><strong>OBLIGATORI: Backup Autom√†tic</strong></h6>
                                                <p><strong>‚ö†Ô∏è No oblidis contractar el backup autom√†tic!</strong></p>
                                                <p><strong>A OVH:</strong></p>
                                                <ul class="mb-2">
                                                    <li>‚úÖ Selecciona "Backup automatizado" (+3,30‚Ç¨/mes)</li>
                                                    <li>üì¶ C√≤pies di√†ries autom√†tiques</li>
                                                    <li>üîÑ Restauraci√≥ amb un clic des del panell</li>
                                                    <li>üõ°Ô∏è Protecci√≥ completa del sistema</li>
                                                </ul>
                                                <small><strong>Sense backup autom√†tic, pots perdre tota la cooperativa!</strong></small>
                                            </div>
                                            
                                            <div class="alert alert-info mt-3">
                                                <i class="fas fa-key me-2"></i>
                                                <strong>Important:</strong> Guarda b√© les dades d'acc√©s (IP, usuari, contrasenya) que et donin!
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 2: Acceder al servidor -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step2">
                                            <strong>Pas 2: Accedir al servidor (5 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step2" class="accordion-collapse collapse" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <h5>üíª Des de Windows:</h5>
                                            <ol>
                                                <li>Descarrega <strong>PuTTY</strong> (√©s gratu√Øt)</li>
                                                <li>Obre PuTTY i posa la IP del teu servidor</li>
                                                <li>Clica "Open" i accepta l'av√≠s de seguretat</li>
                                                <li>Introdueix l'usuari (normalment "root" o "ubuntu")</li>
                                                <li>Introdueix la contrasenya</li>
                                            </ol>

                                            <h5>üçé Des de Mac/Linux:</h5>
                                            <ol>
                                                <li>Obre el Terminal</li>
                                                <li>Escriu: <code>ssh root@LA_TEVA_IP</code></li>
                                                <li>Introdueix la contrasenya quan te la demani</li>
                                            </ol>

                                            <div class="alert alert-success">
                                                <i class="fas fa-check me-2"></i>
                                                Si veus algo com <code>root@servidor:~#</code> ja est√†s dins!
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 3: Instalaci√≥n autom√°tica -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step3">
                                            <strong>Pas 3: Instal¬∑laci√≥ autom√†tica (10 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step3" class="accordion-collapse collapse" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <h5>üöÄ Una sola comanda ho fa tot!</h5>
                                            <p>Copia i enganxa aquesta comanda m√†gica (prem Enter):</p>
                                            
                                            <div class="bg-dark text-light p-3 rounded mb-3">
                                                <code>
                                                    curl -sSL https://github.com/fosc19/coopconsum/raw/master/install_docker.sh | bash
                                                </code>
                                            </div>

                                            <div class="alert alert-info">
                                                <i class="fas fa-magic me-2"></i>
                                                <strong>Qu√® fa aquesta comanda?</strong>
                                                <ul class="mb-0 mt-2">
                                                    <li>Instal¬∑la Docker autom√†ticament</li>
                                                    <li>Descarrega CoopConsum</li>
                                                    <li>Usa valors per defecte autom√†ticament</li>
                                                    <li>Configura tot autom√†ticament</li>
                                                    <li>Llan√ßa la plataforma</li>
                                                    <li>Configura les tasques autom√†tiques</li>
                                                </ul>
                                            </div>

                                            <h5>‚öôÔ∏è Durant la instal¬∑laci√≥</h5>
                                            <p>L'script funciona autom√†ticament amb valors per defecte. Si vols personalitzar:</p>
                                            <div class="bg-light p-3 rounded">
                                                <code>
                                                    # Descarrega l'script primer per personalitzar-lo<br>
                                                    wget https://github.com/fosc19/coopconsum/raw/master/install_docker.sh<br>
                                                    # Edita les variables COOP_NAME i COOP_EMAIL<br>
                                                    nano install_docker.sh<br>
                                                    # Executa l'script<br>
                                                    bash install_docker.sh
                                                </code>
                                            </div>
                                            <p><small>O deixa que funcioni autom√†ticament i canvia el nom despr√©s des del panell admin</small></p>

                                            <div class="alert alert-success">
                                                <i class="fas fa-check me-2"></i>
                                                <strong>Aix√≤ √©s tot!</strong> L'script ho configura tot autom√†ticament, incloses les tasques di√†ries per gestionar comandes.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 4: Acceso y configuraci√≥n -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step4">
                                            <strong>Pas 4: Accedir a la teva cooperativa (2 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step4" class="accordion-collapse collapse" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <div class="alert alert-success">
                                                <i class="fas fa-party-horn me-2"></i>
                                                <strong>Tot est√† llest!</strong> L'script autom√†tic ha configurat tot, incloses les tasques di√†ries per gestionar comandes.
                                            </div>

                                            <h5>üåê Accedir a la plataforma</h5>
                                            <ol>
                                                <li>Obre el navegador</li>
                                                <li>Ves a: <code>http://LA_TEVA_IP</code></li>
                                                <li>Veur√†s la p√†gina principal de la teva cooperativa!</li>
                                            </ol>

                                            <h5>üîê Accedir com a administrador</h5>
                                            <ol>
                                                <li>Ves a: <code>http://LA_TEVA_IP/admin/</code></li>
                                                <li>Usuari: <strong>admin</strong></li>
                                                <li>Contrasenya: <strong>cooperativa2025</strong></li>
                                                <li><strong>IMPORTANT:</strong> Canvia la contrasenya immediatament!</li>
                                            </ol>

                                            <div class="alert alert-danger">
                                                <i class="fas fa-exclamation-triangle me-2"></i>
                                                <strong>Seguretat:</strong> El primer que has de fer √©s canviar la contrasenya de l'administrador! Ves a la secci√≥ "Usuaris" dins del panell d'administraci√≥, clica sobre "admin" i canvia la contrasenya.
                                            </div>

                                            <h5>‚öôÔ∏è Qu√® s'ha configurat autom√†ticament</h5>
                                            <ul>
                                                <li><i class="fas fa-check text-success me-2"></i> Docker i tots els serveis</li>
                                                <li><i class="fas fa-check text-success me-2"></i> Base de dades amb la teva cooperativa</li>
                                                <li><i class="fas fa-check text-success me-2"></i> Usuari administrador</li>
                                                <li><i class="fas fa-check text-success me-2"></i> Tasques di√†ries (comandes, backups)</li>
                                                <li><i class="fas fa-check text-success me-2"></i> Configuraci√≥ de seguretat</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4 p-4 bg-success text-white rounded">
                                <h5><i class="fas fa-trophy me-2"></i>Felicitats!</h5>
                                <p class="mb-0">Ja tens la teva cooperativa funcionant. Ara pots comen√ßar a afegir socis, productes i proveedors des del panell d'administraci√≥.</p>
                            </div>

                            <div class="mt-4">
                                <h5>üåê Pas Extra: Contractar un Domini (Opcional)</h5>
                                <div class="alert alert-light">
                                    <p><strong>En lloc d'usar la IP del servidor, pots tenir un domini propi:</strong></p>
                                    <ul>
                                        <li><strong>Qu√® √©s?</strong> En lloc de <code>http://192.168.1.100</code> pots tenir <code>https://latuacooperativa.cat</code></li>
                                        <li><strong>On comprar?</strong> Namecheap, GoDaddy, o qualsevol registrador de dominis (10-15‚Ç¨/any)</li>
                                        <li><strong>Com configurar?</strong> Al panell del domini, apunta els DNS cap a la IP del teu servidor</li>
                                        <li><strong>HTTPS gratu√Øt:</strong> Pots afegir certificat SSL gratu√Øt amb Let's Encrypt</li>
                                    </ul>
                                    <small class="text-muted">Aix√≤ √©s opcional per√≤ dona una imatge m√©s professional a la cooperativa.</small>
                                </div>
                            </div>

                            <div class="mt-4">
                                <h5>üÜò Necessites ajuda?</h5>
                                <ul>
                                    <li><strong>Documentaci√≥ completa:</strong> <a href="https://github.com/fosc19/coopconsum/blob/master/docs/DOCKER_README.md" target="_blank">DOCKER_README.md</a></li>
                                    <li><strong>Contacte per dubtes:</strong> <a href="mailto:civada@gmail.com">civada@gmail.com</a> (projecte open source)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n 3: API -->
        <div class="col-lg-4 mb-5">
            <div class="card h-100 shadow-sm border-0">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <i class="fas fa-exchange-alt fa-4x text-success mb-3"></i>
                        <h2 class="h3">üåê API per Cooperatives</h2>
                        <p class="text-muted">Comparteix i accedeix a informaci√≥ entre cooperatives</p>
                    </div>
                    
                    <div class="mb-4">
                        <h4>üéØ Per a qui √©s?</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i> Cooperatives que ja funcionen</li>
                            <li><i class="fas fa-check text-success me-2"></i> Desenvolupadors de cooperatives</li>
                            <li><i class="fas fa-check text-success me-2"></i> Xarxes de cooperatives</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h4>üìä Qu√® pots obtenir?</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-database text-info me-2"></i> <strong>Proveedors:</strong> Contactes i informaci√≥</li>
                            <li><i class="fas fa-database text-info me-2"></i> <strong>Productes:</strong> Cat√†leg amb preus</li>
                            <li><i class="fas fa-database text-info me-2"></i> <strong>Categories:</strong> Organitzaci√≥ de productes</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h4>üîß Exemples d'√∫s</h4>
                        <div class="bg-light p-3 rounded">
                            <code class="small">
                                # Obtenir proveedors<br>
                                GET /api/proveedores/<br><br>
                                # Buscar productes ecol√≤gics<br>
                                GET /api/productos/?search=ecol√≤gic<br><br>
                                # Obtenir categories<br>
                                GET /api/categorias/
                            </code>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h4>üìà Beneficis</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-handshake text-primary me-2"></i> Compartir proveedors entre cooperatives</li>
                            <li><i class="fas fa-handshake text-primary me-2"></i> Accedir a cat√†legs de productes</li>
                            <li><i class="fas fa-handshake text-primary me-2"></i> Crear xarxes de cooperaci√≥</li>
                        </ul>
                    </div>

                    <div class="text-center">
                        <a href="/api/" class="btn btn-success btn-lg mb-3" target="_blank">
                            <i class="fas fa-code me-2"></i>Explorar API
                        </a>
                        <br>
                        <small class="text-muted">
                            <i class="fas fa-lock-open me-1"></i>API p√∫blica i gratu√Øta
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}