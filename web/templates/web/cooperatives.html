{% extends "web/base.html" %}
{% load static %}

{% block title %}Recursos per a Cooperatives - Civada{% endblock %}

{% block content %}
<div class="container my-5">
    <!-- Hero Section -->
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h1 class="display-4 mb-4">ü§ù Recursos per a Cooperatives</h1>
            <p class="lead">Compartim coneixement i recursos per enfortir el moviment cooperatiu</p>
        </div>
    </div>

    <!-- Resumen de opciones -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="alert alert-info text-center">
                <h4 class="mb-3">Trieu la millor opci√≥ per a vosaltres:</h4>
                <div class="row">
                    <div class="col-md-4">
                        <i class="fab fa-github fa-2x text-primary mb-2"></i>
                        <h6><strong>1. GitHub</strong></h6>
                        <small>Per a desenvolupadors i experts t√®cnics</small>
                    </div>
                    <div class="col-md-4">
                        <i class="fab fa-docker fa-2x text-info mb-2"></i>
                        <h6><strong>2. Docker</strong></h6>
                        <small>Instal¬∑laci√≥ f√†cil per a principiants</small>
                    </div>
                    <div class="col-md-4">
                        <i class="fas fa-exchange-alt fa-2x text-success mb-2"></i>
                        <h6><strong>3. API</strong></h6>
                        <small>Compartir dades entre cooperatives</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tres secciones principales -->
    <div class="row">
        <!-- Secci√≥n 1: C√≥digo Abierto -->
        <div class="col-lg-4 mb-5">
            <div class="card h-100 shadow-sm border-0">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <i class="fab fa-github fa-4x text-primary mb-3"></i>
                        <h2 class="h3">üöÄ Crea la teva Cooperativa</h2>
                        <p class="text-muted">Codi obert per a noves cooperatives</p>
                    </div>
                    
                    <div class="mb-4">
                        <h4>üí° Per a qui √©s?</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i> Grups que volen crear una nova cooperativa</li>
                            <li><i class="fas fa-check text-success me-2"></i> Cooperatives que necessiten una plataforma digital</li>
                            <li><i class="fas fa-check text-success me-2"></i> Desenvolupadors que volen contribuir al moviment cooperatiu</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h4>üõ†Ô∏è Qu√® inclou?</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-star text-warning me-2"></i> Sistema complet de gesti√≥ de cooperatives</li>
                            <li><i class="fas fa-star text-warning me-2"></i> Gesti√≥ de socis i comptes</li>
                            <li><i class="fas fa-star text-warning me-2"></i> Sistema de comandes</li>
                            <li><i class="fas fa-star text-warning me-2"></i> Gesti√≥ de proveedors i productes</li>
                            <li><i class="fas fa-star text-warning me-2"></i> Web p√∫blica amb cat√†leg</li>
                            <li><i class="fas fa-star text-warning me-2"></i> API per compartir informaci√≥</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h4>üìã Com comen√ßar?</h4>
                        <ol class="ps-3">
                            <li>Descarrega el codi des de GitHub</li>
                            <li>Segueix la guia d'instal¬∑laci√≥</li>
                            <li>Personalitza per a la teva cooperativa</li>
                            <li>Desplega en el teu servidor</li>
                        </ol>
                    </div>

                    <div class="text-center">
                        <a href="https://github.com/fosc19/coopconsum" class="btn btn-primary btn-lg mb-3" target="_blank">
                            <i class="fab fa-github me-2"></i>Veure a GitHub
                        </a>
                        <br>
                        <small class="text-muted">
                            <i class="fas fa-code me-1"></i>Llic√®ncia: MIT (Codi lliure)
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n 2: Docker -->
        <div class="col-lg-4 mb-5">
            <div class="card shadow-sm border-0">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <i class="fab fa-docker fa-4x text-info mb-3"></i>
                        <h2 class="h3">üê≥ Instal¬∑laci√≥ F√†cil amb Docker</h2>
                        <p class="text-muted">Per a cooperatives sense coneixements t√®cnics - Guia pas a pas</p>
                    </div>
                    
                    <div class="row">
                        <div class="col-lg-8 mx-auto">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i>
                                <strong>Qu√® √©s Docker?</strong> √âs com una "caixa m√†gica" que cont√© tot el necessari per fer funcionar la plataforma. No necessites saber programar!
                            </div>

                            <h4>üìã Qu√® necessites?</h4>
                            <ul class="mb-4">
                                <li><strong>Un servidor:</strong> Pots llogar-ne un per 5-10‚Ç¨/mes</li>
                                <li><strong>30 minuts de temps</strong></li>
                                <li><strong>Seguir aquesta guia pas a pas</strong></li>
                            </ul>

                            <div class="accordion" id="dockerGuide">
                                <!-- Paso 1: Comprar servidor -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#step1">
                                            <strong>Pas 1: Comprar un servidor (5 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step1" class="accordion-collapse collapse show" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <h5>üõí On comprar?</h5>
                                            <p>Recomanem aquests prove√Ødors econ√≤mics:</p>
                                            <ul>
                                                <li><strong>OVH:</strong> 3-5‚Ç¨/mes - Prove√Ødor europeu fiable</li>
                                                <li><strong>Hetzner:</strong> 4‚Ç¨/mes - Molt fiable</li>
                                                <li><strong>DigitalOcean:</strong> 6‚Ç¨/mes - Molt f√†cil d'usar</li>
                                                <li><strong>Vultr:</strong> 5‚Ç¨/mes - Bona relaci√≥ qualitat-preu</li>
                                            </ul>
                                            
                                            <h5>‚öôÔ∏è Qu√® demanar?</h5>
                                            <div class="bg-light p-3 rounded">
                                                <ul class="mb-0">
                                                    <li><strong>Sistema operatiu:</strong> Ubuntu 22.04 LTS</li>
                                                    <li><strong>RAM:</strong> M√≠nim 2GB</li>
                                                    <li><strong>Disc:</strong> M√≠nim 20GB</li>
                                                    <li><strong>CPU:</strong> 1 core √©s suficient</li>
                                                </ul>
                                            </div>
                                            
                                            <div class="alert alert-warning mt-3">
                                                <i class="fas fa-key me-2"></i>
                                                <strong>Important:</strong> Guarda b√© les dades d'acc√©s (IP, usuari, contrasenya) que et donin!
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 2: Acceder al servidor -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step2">
                                            <strong>Pas 2: Accedir al servidor (5 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step2" class="accordion-collapse collapse" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <h5>üíª Des de Windows:</h5>
                                            <ol>
                                                <li>Descarrega <strong>PuTTY</strong> (√©s gratu√Øt)</li>
                                                <li>Obre PuTTY i posa la IP del teu servidor</li>
                                                <li>Clica "Open" i accepta l'av√≠s de seguretat</li>
                                                <li>Introdueix l'usuari (normalment "root" o "ubuntu")</li>
                                                <li>Introdueix la contrasenya</li>
                                            </ol>

                                            <h5>üçé Des de Mac/Linux:</h5>
                                            <ol>
                                                <li>Obre el Terminal</li>
                                                <li>Escriu: <code>ssh root@LA_TEVA_IP</code></li>
                                                <li>Introdueix la contrasenya quan te la demani</li>
                                            </ol>

                                            <div class="alert alert-success">
                                                <i class="fas fa-check me-2"></i>
                                                Si veus algo com <code>root@servidor:~#</code> ja est√†s dins!
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 3: Instalaci√≥n autom√°tica -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step3">
                                            <strong>Pas 3: Instal¬∑laci√≥ autom√†tica (15 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step3" class="accordion-collapse collapse" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <h5>üöÄ Comandes m√†giques</h5>
                                            <p>Copia i enganxa aquestes comandes una per una (prem Enter despr√©s de cada una):</p>
                                            
                                            <div class="bg-dark text-light p-3 rounded mb-3">
                                                <code>
                                                    # Descarregar el codi<br>
                                                    git clone https://github.com/fosc19/coopconsum.git<br><br>
                                                    
                                                    # Entrar a la carpeta<br>
                                                    cd coopconsum<br><br>
                                                    
                                                    # Instal¬∑lar Docker (pot trigar 5-10 min)<br>
                                                    bash install_docker.sh<br><br>
                                                    
                                                    # Configurar la cooperativa<br>
                                                    cp .env.example .env<br>
                                                    nano .env
                                                </code>
                                            </div>

                                            <h5>‚öôÔ∏è Configurar la teva cooperativa</h5>
                                            <p>Quan s'obri l'editor, canvia aquestes l√≠nies:</p>
                                            <div class="bg-light p-3 rounded">
                                                <code>
                                                    COOP_NAME=El nom de la teva cooperativa<br>
                                                    COOP_EMAIL=email@cooperativa.cat<br>
                                                    POSTGRES_PASSWORD=una_contrasenya_segura
                                                </code>
                                            </div>
                                            <p><small>Per sortir de l'editor: Ctrl+X, despr√©s Y, despr√©s Enter</small></p>

                                            <h5>üéâ Llan√ßar la plataforma</h5>
                                            <div class="bg-dark text-light p-3 rounded">
                                                <code>
                                                    # Iniciar tot (pot trigar 5 min la primera vegada)<br>
                                                    docker compose up -d
                                                </code>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 4: Acceso y configuraci√≥n -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step4">
                                            <strong>Pas 4: Accedir i configurar (5 min)</strong>
                                        </button>
                                    </h2>
                                    <div id="step4" class="accordion-collapse collapse" data-bs-parent="#dockerGuide">
                                        <div class="accordion-body">
                                            <h5>üåê Accedir a la plataforma</h5>
                                            <ol>
                                                <li>Obre el navegador</li>
                                                <li>Ves a: <code>http://LA_TEVA_IP</code></li>
                                                <li>Hauries de veure la p√†gina principal!</li>
                                            </ol>

                                            <h5>üîê Accedir com a administrador</h5>
                                            <ol>
                                                <li>Ves a: <code>http://LA_TEVA_IP/admin/</code></li>
                                                <li>Usuari: <strong>admin</strong></li>
                                                <li>Contrasenya: <strong>cooperativa2025</strong></li>
                                                <li><strong>IMPORTANT:</strong> Canvia la contrasenya immediatament!</li>
                                            </ol>

                                            <div class="alert alert-danger">
                                                <i class="fas fa-exclamation-triangle me-2"></i>
                                                <strong>Seguretat:</strong> El primer que has de fer √©s canviar la contrasenya de l'administrador! Ves a la secci√≥ "Usuaris" dins del panell d'administraci√≥, clica sobre "admin" i canvia la contrasenya.
                                            </div>

                                            <h5>‚úÖ Verificar que tot funciona</h5>
                                            <div class="bg-dark text-light p-3 rounded">
                                                <code>
                                                    # Veure l'estat dels serveis<br>
                                                    docker compose ps
                                                </code>
                                            </div>
                                            <p>Tots els serveis han d'apar√®ixer com "Up" o "healthy"</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4 p-4 bg-success text-white rounded">
                                <h5><i class="fas fa-trophy me-2"></i>Felicitats!</h5>
                                <p class="mb-0">Ja tens la teva cooperativa funcionant. Ara pots comen√ßar a afegir socis, productes i proveedors des del panell d'administraci√≥.</p>
                            </div>

                            <div class="mt-4">
                                <h5>üåê Pas Extra: Contractar un Domini (Opcional)</h5>
                                <div class="alert alert-light">
                                    <p><strong>En lloc d'usar la IP del servidor, pots tenir un domini propi:</strong></p>
                                    <ul>
                                        <li><strong>Qu√® √©s?</strong> En lloc de <code>http://51.75.200.136</code> pots tenir <code>https://latuacooperativa.cat</code></li>
                                        <li><strong>On comprar?</strong> Namecheap, GoDaddy, o qualsevol registrador de dominis (10-15‚Ç¨/any)</li>
                                        <li><strong>Com configurar?</strong> Al panell del domini, apunta els DNS cap a la IP del teu servidor</li>
                                        <li><strong>HTTPS gratu√Øt:</strong> Pots afegir certificat SSL gratu√Øt amb Let's Encrypt</li>
                                    </ul>
                                    <small class="text-muted">Aix√≤ √©s opcional per√≤ dona una imatge m√©s professional a la cooperativa.</small>
                                </div>
                            </div>

                            <div class="mt-4">
                                <h5>üÜò Necessites ajuda?</h5>
                                <ul>
                                    <li><strong>Documentaci√≥ completa:</strong> <a href="https://github.com/fosc19/coopconsum/blob/master/DOCKER_README.md" target="_blank">DOCKER_README.md</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n 3: API -->
        <div class="col-lg-4 mb-5">
            <div class="card h-100 shadow-sm border-0">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <i class="fas fa-exchange-alt fa-4x text-success mb-3"></i>
                        <h2 class="h3">üåê API per Cooperatives</h2>
                        <p class="text-muted">Comparteix i accedeix a informaci√≥ entre cooperatives</p>
                    </div>
                    
                    <div class="mb-4">
                        <h4>üéØ Per a qui √©s?</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i> Cooperatives que ja funcionen</li>
                            <li><i class="fas fa-check text-success me-2"></i> Desenvolupadors de cooperatives</li>
                            <li><i class="fas fa-check text-success me-2"></i> Xarxes de cooperatives</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h4>üìä Qu√® pots obtenir?</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-database text-info me-2"></i> <strong>Proveedors:</strong> Contactes i informaci√≥</li>
                            <li><i class="fas fa-database text-info me-2"></i> <strong>Productes:</strong> Cat√†leg amb preus</li>
                            <li><i class="fas fa-database text-info me-2"></i> <strong>Categories:</strong> Organitzaci√≥ de productes</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h4>üîß Exemples d'√∫s</h4>
                        <div class="bg-light p-3 rounded">
                            <code class="small">
                                # Obtenir proveedors<br>
                                GET /api/proveedores/<br><br>
                                # Buscar productes ecol√≤gics<br>
                                GET /api/productos/?search=ecol√≤gic<br><br>
                                # Obtenir categories<br>
                                GET /api/categorias/
                            </code>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h4>üìà Beneficis</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-handshake text-primary me-2"></i> Compartir proveedors entre cooperatives</li>
                            <li><i class="fas fa-handshake text-primary me-2"></i> Accedir a cat√†legs de productes</li>
                            <li><i class="fas fa-handshake text-primary me-2"></i> Crear xarxes de cooperaci√≥</li>
                        </ul>
                    </div>

                    <div class="text-center">
                        <a href="/api/" class="btn btn-success btn-lg mb-3" target="_blank">
                            <i class="fas fa-code me-2"></i>Explorar API
                        </a>
                        <br>
                        <small class="text-muted">
                            <i class="fas fa-lock-open me-1"></i>API p√∫blica i gratu√Øta
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}